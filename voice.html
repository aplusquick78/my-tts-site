<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A+ ì‹ ì†í•œ ë°°ì†¡ | AI ìŒì„± ì„œë¹„ìŠ¤</title>
    <style>
        :root { --brand-red: #ff4d4d; --brand-dark: #1a1a1b; }
        body { font-family: 'Pretendard', sans-serif; background-color: #f0f2f5; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
        .card { background: white; padding: 35px; border-radius: 25px; box-shadow: 0 15px 40px rgba(0,0,0,0.1); width: 90%; max-width: 420px; text-align: center; border-top: 10px solid var(--brand-red); }
        h2 { color: var(--brand-dark); margin-bottom: 5px; font-size: 1.6rem; }
        .desc { color: #666; font-size: 0.9rem; margin-bottom: 25px; }
        textarea { width: 100%; height: 140px; border: 2px solid #eee; border-radius: 15px; padding: 15px; font-size: 1.05rem; resize: none; box-sizing: border-box; transition: 0.3s; line-height: 1.6; }
        textarea:focus { border-color: var(--brand-red); outline: none; box-shadow: 0 0 8px rgba(255,77,77,0.2); }
        .btn-main { width: 100%; padding: 16px; border: none; border-radius: 12px; font-weight: bold; font-size: 1.1rem; cursor: pointer; background-color: var(--brand-red); color: white; transition: 0.2s; margin-top: 15px; }
        .btn-main:hover { background-color: #e60000; transform: translateY(-2px); }
        .btn-main:disabled { background-color: #ccc; transform: none; }
        #audio-player { width: 100%; margin-top: 25px; display: none; }
        .download-box { display: none; margin-top: 15px; padding: 12px; background: #f8f9fa; border-radius: 10px; border: 1px dashed #ccc; }
        .download-link { color: #007bff; text-decoration: none; font-weight: bold; font-size: 0.95rem; }
        #status { margin-top: 15px; font-size: 0.85rem; color: #888; }
    </style>
</head>
<body>

<div class="card">
    <h2>ğŸš€ A+ ì‹ ì†í•œ ë°°ì†¡</h2>
    <p class="desc">Nova/ë„¤ì´ë²„ ìŠ¤íƒ€ì¼ ê³ í€„ë¦¬í‹° ìŒì„± ì—”ì§„</p>
    
    <textarea id="text-input" placeholder="ë°°ì†¡ ì•ˆë‚´ ë¬¸êµ¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”...">ì•ˆë…•í•˜ì„¸ìš”! ì‹ ì†í•œ ë°°ì†¡ì…ë‹ˆë‹¤. ìƒí’ˆì´ ê³§ ë„ì°©í•  ì˜ˆì •ì…ë‹ˆë‹¤.</textarea>
    
    <button id="gen-btn" class="btn-main" onclick="startTTS()">ğŸ”Š ëª©ì†Œë¦¬ ìƒì„± & ë“£ê¸°</button>

    <audio id="audio-player" controls></audio>
    
    <div id="download-box" class="download-box">
        <a id="download-link" class="download-link" target="_blank">ğŸ’¾ MP3 íŒŒì¼ ì €ì¥í•˜ê¸° (í´ë¦­)</a>
    </div>

    <p id="status">ë¬¸ì¥ì„ ì…ë ¥í•˜ê³  ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</p>
</div>

<script>
    function startTTS() {
        const text = document.getElementById('text-input').value;
        const genBtn = document.getElementById('gen-btn');
        const status = document.getElementById('status');
        const audioPlayer = document.getElementById('audio-player');
        const downloadBox = document.getElementById('download-box');
        const downloadLink = document.getElementById('download-link');

        if (!text) return alert("ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");

        genBtn.disabled = true;
        status.innerText = "â³ ëª©ì†Œë¦¬ ì‹ ì†í•˜ê²Œ ìƒì„± ì¤‘...";
        
        // ê³ í€„ë¦¬í‹° í•œêµ­ì–´ ìŒì„± API (CORS ì°¨ë‹¨ì´ ì ì€ ì—”ë“œí¬ì¸íŠ¸)
        const encodedText = encodeURIComponent(text);
        const ttsUrl = `https://api.ispeech.org/api/rest?apikey=developertestkey&action=convert&voice=krkoreanfemale&text=${encodedText}`;

        // ì˜¤ë””ì˜¤ ê°ì²´ ìƒì„± ë° ë¡œë“œ í™•ì¸
        audioPlayer.src = ttsUrl;
        audioPlayer.style.display = "block";
        
        audioPlayer.oncanplaythrough = () => {
            audioPlayer.play();
            status.innerText = "âœ… ìƒì„± ì™„ë£Œ! ë°”ë¡œ ì¬ìƒë©ë‹ˆë‹¤.";
            status.style.color = "#28a745";
            
            // ë‹¤ìš´ë¡œë“œ ë§í¬ í™œì„±í™”
            downloadLink.href = ttsUrl;
            downloadBox.style.display = "block";
            genBtn.disabled = false;
        };

        audioPlayer.onerror = () => {
            status.innerText = "âŒ ì„œë²„ ì‘ë‹µ ì§€ì—°. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.";
            status.style.color = "#ff4d4d";
            genBtn.disabled = false;
        };
    }
</script>

</body>
</html>
